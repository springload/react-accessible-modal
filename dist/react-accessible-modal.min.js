!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.ReactAccessibleModal=t(require("React"),require("ReactDOM")):e.ReactAccessibleModal=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=o(i);t["default"]=r["default"],e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),s=n(3),l=o(s),u=n(4),c=o(u),d=n(6),f="u-body-modal-active",p=d.whichAnimationEvent();t["default"]=a["default"].createClass({displayName:"Modal",propTypes:{children:a["default"].PropTypes.node.isRequired,isOpen:a["default"].PropTypes.bool.isRequired,onRequestClose:a["default"].PropTypes.func,onAfterOpen:a["default"].PropTypes.func,onAfterClose:a["default"].PropTypes.func,overlayClick:a["default"].PropTypes.bool,label:a["default"].PropTypes.string,className:a["default"].PropTypes.string,controls:a["default"].PropTypes.object,insideControls:a["default"].PropTypes.bool,ariaHideApp:a["default"].PropTypes.bool},getDefaultProps:function(){return{ariaHideApp:!0,onRequestClose:null,onAfterOpen:null,onAfterClose:null,overlayClick:!0,className:"",label:null,controls:null,insideControls:!1}},getInitialState:function(){return{beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&this.open()},componentWillReceiveProps:function(e){this.props.isOpen&&!e.isOpen&&this.handleClose()},componentDidUpdate:function(e){!e.isOpen&&this.props.isOpen&&this.open()},componentWillUnmount:function(){this.props.isOpen&&this.cleanup()},open:function(){if(document.body.classList.add(f),p){var e=this.refs.modal;return void e.addEventListener(p,this.afterOpen)}this.afterOpen()},afterOpen:function(e){var t=this.refs.modal;if(e){var n=e.target||e.srcElement;if(n!==t)return}this.setAriaHidden(!1),this.setFocusTrap(),p&&t.removeEventListener(p,this.afterOpen),this.setState({afterOpen:!0},function(){window.addEventListener("keydown",this.handleKeyDown),this.props.onAfterOpen&&this.props.onAfterOpen()})},requestClose:function(){var e=this.props.onRequestClose;e&&e()},handleClose:function(){var e=this.props.onRequestClose;if(document.body.classList.remove(f),e){if(p){var t=this.refs.modal;return t.addEventListener(p,this.close),t.classList.remove("modal--active"),t.classList.add("modal--exit"),void this.setState({beforeClose:!0})}this.close()}},close:function(e){var t=this.refs.modal;if(e){var n=e.target||e.srcElement;if(n!==t)return}this.setAriaHidden(!0),p&&t.removeEventListener(p,this.close),this.setState({afterOpen:!1,beforeClose:!1},this.afterClose)},cleanup:function(){document.body.classList.remove(f),c["default"].deactivate(this.refs.modal),window.removeEventListener("keydown",this.handleKeyDown)},afterClose:function(){var e=this.props.onAfterClose;this.cleanup(),e&&e()},handleKeyDown:function(e){27===e.keyCode&&this.requestClose()},handleOverlayClick:function(){var e=this.props.overlayClick;e&&this.requestClose()},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},setAriaHidden:function(e){var t=this.props.ariaHideApp,n=this.refs.content;if(t&&n){n.setAttribute("aria-hidden",e);var o=document.querySelector("[data-main-content]");o&&o.setAttribute("aria-hidden",!e)}},setFocusTrap:function(){var e=this.refs,t=e.modal,n=e.content;n&&c["default"].activate(t,{initialFocus:l["default"].findDOMNode(n),clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0})},render:function(){var e=this.props,t=e.className,n=e.children,o=e.controls,r=e.label,s=e.insideControls,l=["modal","modal--active"],u=void 0;return u=o?o:a["default"].createElement("div",{className:"modal__control"+(s?" modal__control--inside":"")},a["default"].createElement("div",{className:"modal__control-item modal__close",role:"button",tabIndex:"0",onClick:this.requestClose,tabIndex:"0"},"Ã—")),t&&l.push(t),this.shouldBeClosed()?null:a["default"].createElement("div",{className:l.join(" "),ref:"modal"},a["default"].createElement("div",{className:"modal__table"},a["default"].createElement("div",{className:"modal__center"},a["default"].createElement("div",{ref:"content",className:"modal__content",onClick:i,"aria-label":r,"aria-hidden":"true",role:"dialog"},s&&u,n))),!s&&u,a["default"].createElement("div",{className:"modal__overlay",tabIndex:"-1",onClick:this.handleOverlayClick}))}}),e.exports=t["default"]},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){function o(e,t){y&&r({returnFocus:!1}),y=!0,m="string"==typeof e?document.querySelector(e):e,b=t||{},h=document.activeElement,d(),f(i()),document.addEventListener("focus",l,!0),document.addEventListener("click",s,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("keydown",u,!0)}function i(){var e;if(!b.initialFocus){if(e=v[0],!e)throw new Error("You can't have a focus-trap without at least one focusable element");return e}if(e="string"==typeof b.initialFocus?document.querySelector(b.initialFocus):b.initialFocus,!e)throw new Error("The `initialFocus` selector you passed refers to no known node");return e}function r(e){e=e||{},y&&(y=!1,document.removeEventListener("focus",l,!0),document.removeEventListener("click",s,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("touchstart",a,!0),document.removeEventListener("keydown",u,!0),b.onDeactivate&&b.onDeactivate(),e.returnFocus!==!1&&setTimeout(function(){f(h)},0))}function a(e){b.clickOutsideDeactivates&&r({returnFocus:!1})}function s(e){b.clickOutsideDeactivates||m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function l(e){m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),e.target.blur())}function u(e){("Tab"===e.key||9===e.keyCode)&&c(e),b.escapeDeactivates!==!1&&p(e)&&r()}function c(e){e.preventDefault(),d();var t=v.indexOf(e.target),n=v[v.length-1],o=v[0];return e.shiftKey?e.target===o?void f(n):void f(v[t-1]):e.target===n?void f(o):void f(v[t+1])}function d(){v=C(m)}function f(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}function p(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}var m,v,h,y,b,C=n(5);e.exports={activate:o,deactivate:r}},function(e,t){function n(){var e=[];return function t(n){if(n===document.documentElement)return!1;for(var o=0,i=e.length;i>o;o++)if(e[o][0]===n)return e[o][1];var r=!1,a=window.getComputedStyle(n);return"hidden"===a.visibility||"none"===a.display?r=!0:n.parentNode&&(r=t(n.parentNode)),e.push([n,r]),r}}e.exports=function(e){for(var t,o,i=[],r=[],a=n(),s=e.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,u=s.length;u>l;l++)t=s[l],o=t.tabIndex,0>o||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||a(t)||(0===o?i.push(t):r.push({tabIndex:o,node:t}));var c=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(c,i),c}},function(e,t){"use strict";function n(){var e=void 0,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function o(e){return e?e.target||e.srcElement:!1}Object.defineProperty(t,"__esModule",{value:!0}),t.whichAnimationEvent=n,t.getEventTarget=o}])});
//# sourceMappingURL=react-accessible-modal.min.js.map