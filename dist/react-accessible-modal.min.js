!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ReactAccessibleModal=t(require("React")):e.ReactAccessibleModal=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=o(a);t["default"]=i["default"],e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=o(i),s=n(3),l=o(s),c=n(4),u=o(c),d=n(5),f="u-body-modal-active",p=d.whichAnimationEvent();t["default"]=r["default"].createClass({displayName:"Modal",propTypes:{children:r["default"].PropTypes.node.isRequired,isOpen:r["default"].PropTypes.bool.isRequired,onRequestClose:r["default"].PropTypes.func,onAfterClose:r["default"].PropTypes.func,overlayClick:r["default"].PropTypes.bool,label:r["default"].PropTypes.string,className:r["default"].PropTypes.string,controls:r["default"].PropTypes.object,ariaHideApp:r["default"].PropTypes.bool},getDefaultProps:function(){return{ariaHideApp:!0,onRequestClose:null,onAfterClose:null,overlayClick:!0,className:"",label:null,controls:null}},getInitialState:function(){return{afterOpen:!1,beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&this.open()},componentWillUnmount:function(){this.props.isOpen&&this.cleanup()},componentWillReceiveProps:function(e){!this.props.isOpen&&e.isOpen?this.open():this.props.isOpen&&!e.isOpen&&this.handleClose()},open:function(){document.body.classList.add(f),this.setAriaHidden(!1),this.setFocusTrap(),this.setState({afterOpen:!0},function(){window.addEventListener("keydown",this.handleKeyDown)})},requestClose:function(){var e=this.props.onRequestClose;e&&e()},handleClose:function(){var e=this.props.onRequestClose;if(document.body.classList.remove(f),e){if(p){var t=this.refs.modal;return t.addEventListener(p,this.close),t.classList.remove("modal--active"),t.classList.add("modal--exit"),void this.setState({beforeClose:!0})}this.close()}},close:function(e){var t=this.refs.modal;if(e){var n=e.target||e.srcElement;if(n!==t)return}this.setAriaHidden(!0),p&&t.removeEventListener(p,this.close),this.setState({afterOpen:!1,beforeClose:!1},this.afterClose)},cleanup:function(){document.body.classList.remove(f),l["default"].deactivate(this.refs.modal),window.removeEventListener("keydown",this.handleKeyDown)},afterClose:function(){var e=this.props.onAfterClose;this.cleanup(),e&&e()},handleKeyDown:function(e){27===e.keyCode&&this.requestClose()},handleOverlayClick:function(){var e=this.props.overlayClick;e&&this.requestClose()},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},setAriaHidden:function(e){var t=this.props.ariaHideApp,n=this.refs.content;if(t&&n){n.setAttribute("aria-hidden",e);var o=document.querySelector("[data-main-content]");o&&o.setAttribute("aria-hidden",!e)}},setFocusTrap:function(){var e=this.refs,t=e.modal,n=e.content;if(n){var o=u["default"](n);o.length>0&&l["default"].activate(t,{initialFocus:"a"})}},render:function(){var e=this.props,t=e.className,n=e.children,o=e.controls,i=e.label,s=["modal","modal--active"];return t&&s.push(t),this.shouldBeClosed()?null:r["default"].createElement("div",{className:s.join(" "),ref:"modal"},r["default"].createElement("div",{className:"modal__table"},r["default"].createElement("div",{className:"modal__center"},r["default"].createElement("div",{ref:"content",className:"modal__content",onClick:a,"aria-label":i,"aria-hidden":"true",role:"dialog"},n))),o?o:r["default"].createElement("div",{className:"modal__control"},r["default"].createElement("div",{className:"modal__control-item modal__close",onClick:this.requestClose},"Ã—")),r["default"].createElement("div",{className:"modal__overlay",tabIndex:"-1",onClick:this.handleOverlayClick}))}}),e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){function o(e,t){y&&i({returnFocus:!1}),y=!0,m="string"==typeof e?document.querySelector(e):e,b=t||{},h=document.activeElement,d(),f(a()),document.addEventListener("focus",l,!0),document.addEventListener("click",s,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),document.addEventListener("keydown",c,!0)}function a(){var e;if(!b.initialFocus){if(e=v[0],!e)throw new Error("You can't have a focus-trap without at least one focusable element");return e}if(e="string"==typeof b.initialFocus?document.querySelector(b.initialFocus):b.initialFocus,!e)throw new Error("The `initialFocus` selector you passed refers to no known node");return e}function i(e){e=e||{},y&&(y=!1,document.removeEventListener("focus",l,!0),document.removeEventListener("click",s,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),document.removeEventListener("keydown",c,!0),b.onDeactivate&&b.onDeactivate(),e.returnFocus!==!1&&setTimeout(function(){f(h)},0))}function r(e){b.clickOutsideDeactivates&&i({returnFocus:!1})}function s(e){b.clickOutsideDeactivates||m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function l(e){m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),e.target.blur())}function c(e){("Tab"===e.key||9===e.keyCode)&&u(e),b.escapeDeactivates!==!1&&p(e)&&i()}function u(e){e.preventDefault(),d();var t=v.indexOf(e.target),n=v[v.length-1],o=v[0];return e.shiftKey?e.target===o?void f(n):void f(v[t-1]):e.target===n?void f(o):void f(v[t+1])}function d(){v=C(m)}function f(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}function p(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}var m,v,h,y,b,C=n(4);e.exports={activate:o,deactivate:i}},function(e,t){function n(e){if(e===document.documentElement)return!1;if(e.tabbableCacheIndex)return o[e.tabbableCacheIndex];var t=!1,i=window.getComputedStyle(e);return"hidden"===i.visibility||"none"===i.display?t=!0:e.parentNode&&(t=n(e.parentNode)),e.tabbableCacheIndex=a,o[e.tabbableCacheIndex]=t,a++,t}e.exports=function(e){for(var t,o,a=[],i=[],r=e.querySelectorAll("input, select, a, textarea, button, [tabindex]"),s=Array.prototype.slice.call(r),l=0,c=s.length;c>l;l++)t=s[l],o=t.tabIndex,0>o||"INPUT"===t.tagName&&"hidden"===t.type||"A"===t.tagName&&!t.href&&!t.tabIndex||t.disabled||n(t)||(0===o?a.push(t):i.push({tabIndex:o,node:t}));var u=i.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(u,a),u};var o={},a=1},function(e,t){"use strict";function n(){var e=void 0,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function o(e){return e?e.target||e.srcElement:!1}Object.defineProperty(t,"__esModule",{value:!0}),t.whichAnimationEvent=n,t.getEventTarget=o}])});
//# sourceMappingURL=react-accessible-modal.min.js.map