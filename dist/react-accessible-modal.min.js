!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.ReactAccessibleModal=t(require("React"),require("ReactDOM")):e.ReactAccessibleModal=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=o(i);t["default"]=r["default"],e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),s=n(3),u=o(s),c=n(4),d=o(c),l=n(6),f="u-body-modal-active",p=l.whichAnimationEvent();t["default"]=a["default"].createClass({displayName:"Modal",propTypes:{children:a["default"].PropTypes.node.isRequired,isOpen:a["default"].PropTypes.bool.isRequired,onRequestClose:a["default"].PropTypes.func,onAfterOpen:a["default"].PropTypes.func,onAfterClose:a["default"].PropTypes.func,overlayClick:a["default"].PropTypes.bool,label:a["default"].PropTypes.string,className:a["default"].PropTypes.string,controls:a["default"].PropTypes.object,insideControls:a["default"].PropTypes.bool,ariaHideApp:a["default"].PropTypes.bool},getDefaultProps:function(){return{ariaHideApp:!0,onRequestClose:null,onAfterOpen:null,onAfterClose:null,overlayClick:!0,className:"",label:null,controls:null,insideControls:!1}},getInitialState:function(){return{beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&this.open()},componentWillReceiveProps:function(e){this.props.isOpen&&!e.isOpen&&this.handleClose()},componentDidUpdate:function(e){!e.isOpen&&this.props.isOpen&&this.open()},componentWillUnmount:function(){this.props.isOpen&&this.cleanup()},open:function(){if(document.body.classList.add(f),p){var e=this.refs.modal;return void e.addEventListener(p,this.afterOpen)}this.afterOpen()},afterOpen:function(e){var t=this,n=this.refs.modal;if(this.closeButton=n.querySelector(".modal__close"),e){var o=e.target||e.srcElement;if(o!==n)return}this.setAriaHidden(!1),this.setFocusTrap(),p&&n.removeEventListener(p,this.afterOpen),this.setState({afterOpen:!0},function(){window.addEventListener("keydown",t.handleEscapeKeyDown),t.closeButton.addEventListener("keydown",t.handleEnterKeyDown),t.props.onAfterOpen&&t.props.onAfterOpen()})},requestClose:function(){var e=this.props.onRequestClose;e&&e()},handleClose:function(){var e=this.props.onRequestClose;if(document.body.classList.remove(f),e){if(p){var t=this.refs.modal;return t.addEventListener(p,this.close),t.classList.remove("modal--active"),t.classList.add("modal--exit"),void this.setState({beforeClose:!0})}this.close()}},close:function(e){var t=this.refs.modal;if(e){var n=e.target||e.srcElement;if(n!==t)return}this.setAriaHidden(!0),p&&t.removeEventListener(p,this.close),this.setState({afterOpen:!1,beforeClose:!1},this.afterClose)},cleanup:function(){document.body.classList.remove(f),d["default"].deactivate(this.refs.modal),window.removeEventListener("keydown",this.handleEscapeKeyDown),this.closeButton.removeEventListener("keydown",this.handleEnterKeyDown)},afterClose:function(){var e=this.props.onAfterClose;this.cleanup(),e&&e()},handleEscapeKeyDown:function(e){27===e.keyCode&&this.requestClose()},handleEnterKeyDown:function(e){13===e.keyCode&&this.requestClose()},handleOverlayClick:function(){var e=this.props.overlayClick;e&&this.requestClose()},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},setAriaHidden:function(e){var t=this.props.ariaHideApp,n=this.refs.content;if(t&&n){n.setAttribute("aria-hidden",e);var o=document.querySelector("[data-main-content]");o&&o.setAttribute("aria-hidden",!e)}},setFocusTrap:function(){var e=this.refs,t=e.modal,n=e.content;n&&d["default"].activate(t,{initialFocus:u["default"].findDOMNode(n),clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0})},render:function(){var e=this.props,t=e.className,n=e.children,o=(e.controls,e.label),r=e.insideControls,s=["modal","modal--active"],u=void 0;return t&&s.push(t),this.shouldBeClosed()?null:a["default"].createElement("div",{className:s.join(" "),ref:"modal"},a["default"].createElement("div",{className:"modal__table"},a["default"].createElement("div",{className:"modal__center"},a["default"].createElement("div",{ref:"content",className:"modal__content",onClick:i,"aria-label":o,"aria-hidden":"true",role:"dialog"},n,r&&u))),!r&&u,a["default"].createElement("div",{className:"modal__overlay",tabIndex:"-1",onClick:this.handleOverlayClick}))}}),e.exports=t["default"]},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){function o(e,t){y&&r({returnFocus:!1}),y=!0,m="string"==typeof e?document.querySelector(e):e,E=t||{},h=document.activeElement,l(),f(i()),document.addEventListener("focus",u,!0),document.addEventListener("click",s,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("keydown",c,!0)}function i(){var e;if(!E.initialFocus){if(e=v[0],!e)throw new Error("You can't have a focus-trap without at least one focusable element");return e}if(e="string"==typeof E.initialFocus?document.querySelector(E.initialFocus):E.initialFocus,!e)throw new Error("The `initialFocus` selector you passed refers to no known node");return e}function r(e){e=e||{},y&&(y=!1,document.removeEventListener("focus",u,!0),document.removeEventListener("click",s,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("touchstart",a,!0),document.removeEventListener("keydown",c,!0),E.onDeactivate&&E.onDeactivate(),e.returnFocus!==!1&&setTimeout(function(){f(h)},0))}function a(e){E.clickOutsideDeactivates&&r({returnFocus:!1})}function s(e){E.clickOutsideDeactivates||m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function u(e){m.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),e.target.blur())}function c(e){("Tab"===e.key||9===e.keyCode)&&d(e),E.escapeDeactivates!==!1&&p(e)&&r()}function d(e){e.preventDefault(),l();var t=v.indexOf(e.target),n=v[v.length-1],o=v[0];return e.shiftKey?e.target===o?void f(n):void f(v[t-1]):e.target===n?void f(o):void f(v[t+1])}function l(){v=b(m)}function f(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}function p(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}var m,v,h,y,E,b=n(5);e.exports={activate:o,deactivate:r}},function(e,t){function n(){function e(n,o){if(n===document.documentElement)return!1;for(var i=0,r=t.length;r>i;i++)if(t[i][0]===n)return t[i][1];o=o||window.getComputedStyle(n);var a=!1;return"none"===o.display?a=!0:n.parentNode&&(a=e(n.parentNode)),t.push([n,a]),a}var t=[];return function(t){if(t===document.documentElement)return!1;var n=window.getComputedStyle(t);return e(t,n)?!0:"hidden"===n.visibility}}e.exports=function(e){for(var t,o,i=[],r=[],a=n(),s=["input","select","a[href]","textarea","button","[tabindex]"],u=e.querySelectorAll(s),c=0,d=u.length;d>c;c++)t=u[c],o=parseInt(t.getAttribute("tabindex"),10)||t.tabIndex,0>o||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||a(t)||(0===o?i.push(t):r.push({tabIndex:o,node:t}));var l=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(l,i),l}},function(e,t){"use strict";function n(){var e=void 0,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function o(e){return e?e.target||e.srcElement:!1}Object.defineProperty(t,"__esModule",{value:!0}),t.whichAnimationEvent=n,t.getEventTarget=o}])});
//# sourceMappingURL=react-accessible-modal.min.js.map